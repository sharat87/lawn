#!/bin/bash

main() {

    session_name=main

    tmux new-session -d -n "daemons" -s "$session_name" \
        "zsh -c '/home/sharat/apps/python-3.2/bin/python3 ~/labs/chrome/power-user/server/main.py'"
    tmux split-window -v "zsh -c 'python ~/dotfiles/mail/offlineimap/offlineimap.py'"
    tmux new-window -a -n "mutt" "zsh -c 'mutt'"
    tmux new-window -a

}

__main__ () {

    # Get the session name
    if [ "$#" == "0" ]
    then
        echo 'No command given'
        exit 1
    fi
    ses="$1"

    # Check if the session is already available
    if [ "$(tmux list-sessions | grep -c "^$ses:")" = "0" ]
    then
        # Setup the session
        $ses "$@"
    fi
}

__main__ "$@" 2>&1 >~/.logs/tmux-setup
